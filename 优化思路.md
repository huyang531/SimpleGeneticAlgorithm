# 优化思路
## 获取1在基因中的占比
当fitness函数中，超过比重的个体价值直接设置为0时，1的占比在初始化种群时十分重要。体现在：
1. 如果01背包问题中有大量*大重量物体*（占背包容量很高），初始化时1的概率（`InitMapper.XXX`）如果不够小，
初始化种群很容易所有初始个体的`fitness`全部为0，导致无法进行遗传算法。
2. 同时，在上述条件下，如果突变时，每个基因bit的突变概率（`MyReducer.pMutationPerBit`）如果不够小，
也会导致突变的个体全部的`fitness`为0，使得突变失去意义，遗传算法陷入局部最优。
3. 考虑在正式进行遗传算法之前，获取一个近似解，使用近似解来初始化种群。
## 个体突变概率随着收敛增加
当种群收敛时，适当增加突变概率可以防止陷入局部最优。具体优化包括如下部分：
1. 当种群的最大值不变，即记录该信息变量(`MyDriver.converged`）不为0时，开始逐渐增加个体突变概率（`MyReducer.pMutation`)。
突变概率增加上限为：100%减去巡回赛每次选择的数量（`MyReducer.tournamentSize`)的倒数（`1 - 1 / MyReducer.tournamentSize`）。
**注**：当前代码版本未实现上述优化，而是当当前的种群数量完全一致化的时，设置突变概率为（`1 - 1 / MyReducer.tournamentSize`）。
2. 上述“当当前的种群数量完全一致化”是指，巡回赛的窗口大小的最大值不变化后的迭代次数次方（`MyReducer.tournamentSize ^ MyDriver.converged`）
可以超过种群个数（`MyDriver.pop`)。
## `MyReducer.crossOver`函数的优化
由于01背包问题是一个组合问题，可以将当前每个基因bit的交换修改为片段交换，或许可以少量提高收敛的速度。
同时，如果将所有的物体按照重量进行降序排列，可以进一步提高片段交换的改进效果。
## `MyReducer.mutation`函数优化
对于小重量物体，突变之后不容易导致`fitness`为0，或许可以加权提高其突变概率，而对于大重量物体，或许可以适当降低其突变概率，
提升突变个体的存活率提升算法的效率。  
如果可以多个个体同时突变在突变时，多个不同优秀个体同或结果相同的基因片段，或许价值较高，降低突变概率可以提升算法效率。
## 锦标赛算法
由于`Reducer`的读取特性，每个个体都是和周围的`MyReducer.tournamentSize - 1`个个体进行比较，由于`Reducer`会将同节点的相同键值的个体合并，
同时，`Reducer`顺序读入无法复读，处理时会将这些同键值个体放在相邻位置，导致在进行锦标赛算法时，同键值个体会被合并。增加Reducer数量对此有改进。
